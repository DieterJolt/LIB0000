
<Page
    x:Class="LIB0000.ProductDetailView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:LIB0000"
    DataContext = "{Binding RelativeSource={RelativeSource Self}}"
    Language="NL-BE" Loaded="Page_Loaded">

    <Page.Resources>
        <local:SettingDataTemplate x:Key="ObjectTypeTemplateSelector">
            <local:SettingDataTemplate.TemplateTextBox>
                <DataTemplate>
                    <ui:CardExpander BorderThickness="5" BorderBrush="{Binding ScreenValueMode, Converter={StaticResource ConverterScreenValueModeToColor}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                        <ui:CardExpander.Header>
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="8*" />
                                    <ColumnDefinition Width="24*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <ui:TextBlock Grid.Row="0" Grid.Column="0" FontSize="{DynamicResource LargeFontSize}" FontTypography="Body" Text="{Binding SettingName}"/>
                                <ui:TextBox Grid.Row="0" Grid.Column="1" MinWidth="100" MaxWidth="400" HorizontalAlignment="Right" FontSize="{DynamicResource LargeFontSize}" 
                                            Text="{Binding ScreenValue,UpdateSourceTrigger=PropertyChanged}"  TextChanged="EventSettingChangedTextBox"/>
                                <ui:TextBlock Grid.Row="1" Grid.Column="1" HorizontalAlignment="Right" VerticalAlignment="Center" 
                                              Foreground="{Binding ScreenValueMode, Converter={StaticResource ConverterScreenValueModeToColor}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                              FontSize="{StaticResource MediumFontSize}" FontWeight="Medium"
                                              Text="{Binding ScreenValueMode, Converter={StaticResource ConverterScreenValueModeString}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                <ui:TextBlock Grid.Row="1" Grid.Column="0" Text="{Binding Nr}" FontSize="{DynamicResource LargeFontSize}"/>
                            </Grid>
                        </ui:CardExpander.Header>
                        <StackPanel>
                            <ui:TextBlock Text="{Binding SettingText}" FontSize="{DynamicResource MediumFontSize}" FontWeight="Bold" />
                            <StackPanel>
                                <WrapPanel Margin="0,20,0,0">
                                    <ui:TextBlock Text="{DynamicResource DefaultWaarde}" FontSize="{DynamicResource MediumFontSize}" 
                                                  Visibility="{Binding DefaultValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                    <ui:TextBlock Text="{Binding DefaultValue}" FontSize="{DynamicResource MediumFontSize}" 
                                                  Visibility="{Binding DefaultValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                </WrapPanel>
                            </StackPanel>
                            <StackPanel>
                                <WrapPanel>
                                    <ui:TextBlock Text="Min. waarde: " FontSize="{DynamicResource MediumFontSize}" 
                                                  Visibility="{Binding MinValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                    <ui:TextBlock Text="{Binding MinValue}" FontSize="{DynamicResource MediumFontSize}" 
                                                  Visibility="{Binding MinValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                </WrapPanel>
                            </StackPanel>
                            <StackPanel>
                                <WrapPanel>
                                    <ui:TextBlock Text="Max. waarde: " FontSize="{DynamicResource MediumFontSize}" 
                                                  Visibility="{Binding MaxValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                    <ui:TextBlock Text="{Binding MaxValue}" FontSize="{DynamicResource MediumFontSize}" 
                                                  Visibility="{Binding MaxValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                </WrapPanel>
                            </StackPanel>
                        </StackPanel>
                    </ui:CardExpander>
                </DataTemplate>
            </local:SettingDataTemplate.TemplateTextBox>
            <local:SettingDataTemplate.TemplateTextBoxWithFilePicker>
                <DataTemplate>
                    <ui:CardExpander BorderThickness="5" BorderBrush="{Binding ScreenValueMode, Converter={StaticResource ConverterScreenValueModeToColor}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                        <ui:CardExpander.Header>
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="8*" />
                                    <ColumnDefinition Width="24*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <ui:TextBlock Grid.Row="0" Grid.Column="0" FontSize="{DynamicResource LargeFontSize}" FontTypography="Body" Text="{Binding SettingName}"/>
                                <WrapPanel Grid.Row="0" Grid.Column="1" HorizontalAlignment="Right">
                                    <ui:Button Margin="10,0,10,0" Click="EventClickOpenFile" Tag="{Binding ScreenValue, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                        <ui:SymbolIcon Symbol="Document24" Filled="True" Height="24" Width="24" VerticalAlignment="Center" />   
                                    </ui:Button>
                                    <ui:TextBox  MinWidth="100" MaxWidth="400" FontSize="{DynamicResource MediumFontSize}" Text="{Binding ScreenValue,UpdateSourceTrigger=PropertyChanged}" 
                                                 TextChanged="EventSettingChangedTextBox"/>
                                </WrapPanel>
                                <ui:TextBlock Grid.Row="1" Grid.Column="1" HorizontalAlignment="Right" VerticalAlignment="Center" 
                                              Foreground="{Binding ScreenValueMode, Converter={StaticResource ConverterScreenValueModeToColor}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                              FontSize="{DynamicResource MediumFontSize}" FontWeight="Medium"
                                              Text="{Binding ScreenValueMode, Converter={StaticResource ConverterScreenValueModeString}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                <ui:TextBlock Grid.Row="1" Grid.Column="0" Text="{Binding Nr}" FontSize="{DynamicResource LargeFontSize}"/>
                            </Grid>
                        </ui:CardExpander.Header>
                        <StackPanel>
                            <ui:TextBlock Text="{Binding SettingText}" FontSize="{DynamicResource MediumFontSize}" FontWeight="Bold" />
                            <StackPanel>
                                <WrapPanel Margin="0,20,0,0">
                                    <ui:TextBlock Text="{DynamicResource DefaultWaarde}" FontSize="{DynamicResource MediumFontSize}" 
                                                  Visibility="{Binding DefaultValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                    <ui:TextBlock Text="{Binding DefaultValue}" FontSize="{DynamicResource MediumFontSize}" 
                                                  Visibility="{Binding DefaultValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                </WrapPanel>
                            </StackPanel>
                            <StackPanel>
                                <WrapPanel>
                                    <ui:TextBlock Text="Min. waarde: " FontSize="{DynamicResource MediumFontSize}" 
                                                  Visibility="{Binding MinValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                    <ui:TextBlock Text="{Binding MinValue}" FontSize="{DynamicResource MediumFontSize}" 
                                                  Visibility="{Binding MinValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                </WrapPanel>
                            </StackPanel>
                            <StackPanel>
                                <WrapPanel>
                                    <ui:TextBlock Text="Max. waarde: " FontSize="{DynamicResource MediumFontSize}" 
                                                  Visibility="{Binding MaxValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                    <ui:TextBlock Text="{Binding MaxValue}" FontSize="{DynamicResource MediumFontSize}" 
                                                  Visibility="{Binding MaxValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                </WrapPanel>
                            </StackPanel>
                        </StackPanel>
                    </ui:CardExpander>
                </DataTemplate>
            </local:SettingDataTemplate.TemplateTextBoxWithFilePicker>
            <local:SettingDataTemplate.TemplateTextBoxWithFolderPicker>
                <DataTemplate>
                    <ui:CardExpander BorderThickness="5" BorderBrush="{Binding ScreenValueMode, Converter={StaticResource ConverterScreenValueModeToColor}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                        <ui:CardExpander.Header>
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="8*" />
                                    <ColumnDefinition Width="24*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <ui:TextBlock Grid.Row="0" Grid.Column="0" FontSize="{DynamicResource LargeFontSize}" FontTypography="Body" Text="{Binding SettingName}"/>
                                <WrapPanel Grid.Row="0" Grid.Column="1" Width="Auto" HorizontalAlignment="Right">
                                    <ui:Button Margin="10,0,10,0" Click="EventClickOpenFolder" Tag="{Binding ScreenValue, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                        <ui:SymbolIcon Symbol="Folder24" Filled="True" Height="24" Width="24" VerticalAlignment="Center" />
                                    </ui:Button>
                                    <ui:TextBox MinWidth="100" MaxWidth="400" FontSize="{DynamicResource MediumFontSize}" Text="{Binding ScreenValue,UpdateSourceTrigger=PropertyChanged}" 
                                                TextChanged="EventSettingChangedTextBox"/>
                                </WrapPanel>
                                <ui:TextBlock Grid.Row="1" Grid.Column="1" HorizontalAlignment="Right" VerticalAlignment="Center" 
                                              Foreground="{Binding ScreenValueMode, Converter={StaticResource ConverterScreenValueModeToColor}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                              FontSize="{StaticResource MediumFontSize}" FontWeight="Medium"
                                              Text="{Binding ScreenValueMode, Converter={StaticResource ConverterScreenValueModeString}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                <ui:TextBlock Grid.Row="1" Grid.Column="0" Text="{Binding Nr}" FontSize="{DynamicResource LargeFontSize}"/>
                            </Grid>
                        </ui:CardExpander.Header>
                        <StackPanel>
                            <ui:TextBlock Text="{Binding SettingText}" FontSize="{DynamicResource MediumFontSize}" FontWeight="Bold" />
                            <StackPanel>
                                <WrapPanel Margin="0,20,0,0">
                                    <ui:TextBlock Text="{DynamicResource DefaultWaarde}" FontSize="{DynamicResource MediumFontSize}" 
                                                  Visibility="{Binding DefaultValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                    <ui:TextBlock Text="{Binding DefaultValue}" FontSize="{DynamicResource MediumFontSize}" 
                                                  Visibility="{Binding DefaultValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                </WrapPanel>
                            </StackPanel>
                            <StackPanel>
                                <WrapPanel>
                                    <ui:TextBlock Text="Min. waarde: " FontSize="{DynamicResource MediumFontSize}" 
                                                  Visibility="{Binding MinValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                    <ui:TextBlock Text="{Binding MinValue}" FontSize="{DynamicResource MediumFontSize}" 
                                                  Visibility="{Binding MinValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                </WrapPanel>
                            </StackPanel>
                            <StackPanel>
                                <WrapPanel>
                                    <ui:TextBlock Text="Max. waarde: " FontSize="{DynamicResource MediumFontSize}" 
                                                  Visibility="{Binding MaxValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                    <ui:TextBlock Text="{Binding MaxValue}" FontSize="{DynamicResource MediumFontSize}" 
                                                  Visibility="{Binding MaxValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                </WrapPanel>
                            </StackPanel>
                        </StackPanel>
                    </ui:CardExpander>
                </DataTemplate>
            </local:SettingDataTemplate.TemplateTextBoxWithFolderPicker>
            <local:SettingDataTemplate.TemplateToggleSwitch>
                <DataTemplate>
                    <ui:CardExpander BorderBrush="{Binding ScreenValueMode, Converter={StaticResource ConverterScreenValueModeToColor}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                        <ui:CardExpander.Header>
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="8*" />
                                    <ColumnDefinition Width="24*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <ui:TextBlock Grid.Row="0" Grid.Column="0" FontSize="{DynamicResource LargeFontSize}" FontTypography="Body" Text="{Binding SettingName}"/>
                                <WrapPanel Grid.Row="0" Grid.Column="1" HorizontalAlignment="Right">
                                    <ui:ToggleSwitch  FontSize="{DynamicResource LargeFontSize}" IsChecked="{Binding ScreenValue,Converter={StaticResource ConverterStringToBool1True}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Checked="EventSettingChangedToggleSwitch" Unchecked="EventSettingChangedToggleSwitch"/>
                                    <ui:TextBlock Margin="10,0,0,0" FontSize="{DynamicResource MediumFontSize}" Text="{Binding ScreenValue, Converter={StaticResource ConverterStringToString1Aan}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                </ui:TextBlock></WrapPanel>
                                <ui:TextBlock  Grid.Row="1" Grid.Column="0" Text="{Binding Nr}" FontSize="{DynamicResource LargeFontSize}"/>
                            </Grid>
                        </ui:CardExpander.Header>
                        <StackPanel>
                            <ui:TextBlock Text="{Binding SettingText}" FontSize="{DynamicResource MediumFontSize}" FontWeight="Bold" />
                            <StackPanel>
                                <WrapPanel Margin="0,20,0,0">
                                    <ui:TextBlock Text="{DynamicResource DefaultWaarde}" FontSize="{DynamicResource MediumFontSize}" Visibility="{Binding DefaultValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                    <ui:TextBlock Text="{Binding DefaultValue}" FontSize="{DynamicResource MediumFontSize}" Visibility="{Binding DefaultValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                </WrapPanel>
                            </StackPanel>
                            <StackPanel>
                                <WrapPanel>
                                    <ui:TextBlock Text="Min. waarde: " FontSize="{DynamicResource MediumFontSize}" Visibility="{Binding MinValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                    <ui:TextBlock Text="{Binding MinValue}" FontSize="{DynamicResource MediumFontSize}" Visibility="{Binding MinValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                </WrapPanel>
                            </StackPanel>
                            <StackPanel>
                                <WrapPanel>
                                    <ui:TextBlock Text="Max. waarde: " FontSize="{DynamicResource MediumFontSize}" Visibility="{Binding MaxValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                    <ui:TextBlock Text="{Binding MaxValue}" FontSize="{DynamicResource MediumFontSize}" Visibility="{Binding MaxValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                </WrapPanel>
                            </StackPanel>
                        </StackPanel>
                    </ui:CardExpander>
                </DataTemplate>
            </local:SettingDataTemplate.TemplateToggleSwitch>
            <local:SettingDataTemplate.TemplateComboBox>
                <DataTemplate>
                    <ui:CardExpander BorderThickness="5" BorderBrush="{Binding ScreenValueMode, Converter={StaticResource ConverterScreenValueModeToColor}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                        <ui:CardExpander.Header>
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="8*" />
                                    <ColumnDefinition Width="24*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <ui:TextBlock Grid.Row="0" Grid.Column="0" FontSize="{DynamicResource LargeFontSize}" FontTypography="Body" Text="{Binding SettingName}"/>
                                <ComboBox MinWidth="100" MaxWidth="400" Grid.Row="0" Grid.Column="1" HorizontalAlignment="Right" FontSize="{StaticResource LargeFontSize}" ItemsSource="{Binding PossibleComboBoxValues, Converter={StaticResource ConverterStringToComboBoxItemsConverter}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" SelectedItem="{Binding ScreenValue, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" DropDownClosed="EventSettingClosedComboBox"/>
                                <ui:TextBlock Grid.Row="1" Grid.Column="0" Text="{Binding Nr}" FontSize="{DynamicResource LargeFontSize}"/>
                            </Grid>
                        </ui:CardExpander.Header>
                        <StackPanel>
                            <ui:TextBlock Text="{Binding SettingText}" FontSize="{DynamicResource MediumFontSize}" FontWeight="Bold" />
                            <StackPanel>
                                <WrapPanel Margin="0,20,0,0">
                                    <ui:TextBlock Text="{DynamicResource DefaultWaarde}" FontSize="{DynamicResource MediumFontSize}" Visibility="{Binding DefaultValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                    <ui:TextBlock Text="{Binding DefaultValue}" FontSize="{DynamicResource MediumFontSize}" Visibility="{Binding DefaultValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                </WrapPanel>
                            </StackPanel>
                            <StackPanel>
                                <WrapPanel>
                                    <ui:TextBlock Text="Min. waarde: " FontSize="{DynamicResource MediumFontSize}" Visibility="{Binding MinValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                    <ui:TextBlock Text="{Binding MinValue}" FontSize="{DynamicResource MediumFontSize}" Visibility="{Binding MinValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                </WrapPanel>
                            </StackPanel>
                            <StackPanel>
                                <WrapPanel>
                                    <ui:TextBlock Text="Max. waarde: " FontSize="{DynamicResource MediumFontSize}" Visibility="{Binding MaxValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                    <ui:TextBlock Text="{Binding MaxValue}" FontSize="{DynamicResource MediumFontSize}" Visibility="{Binding MaxValue,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}"/>
                                </WrapPanel>
                            </StackPanel>
                        </StackPanel>
                    </ui:CardExpander>
                </DataTemplate>
            </local:SettingDataTemplate.TemplateComboBox>
        </local:SettingDataTemplate>
        <local:ProductDetailDataTemplate x:Key="ProductDetailDataTemplateSelector">
            <local:ProductDetailDataTemplate.EmptyTemplate>
                <DataTemplate>
                    <!--Lege template-->
                </DataTemplate>
            </local:ProductDetailDataTemplate.EmptyTemplate>
            <local:ProductDetailDataTemplate.Fhv7ShapeSearchTemplate>
            <DataTemplate>
                    <local:FhShapeSearchUserControl ListFhService="{Binding DataContext.BasicService.FhService, RelativeSource={RelativeSource AncestorType=Page}}"
                                                    SelectedHardware="{Binding DataContext.BasicService.ProductDetailService.SelectedHardware,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=Page}}"
                                                    ProductDetailList="{Binding DataContext.BasicService.ProductDetailService.ListProductDetails,UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=Page}}"
                                                    UpdateUICommand="{Binding DataContext.BasicService.ProductDetailService.UpdateUICommand, RelativeSource={RelativeSource AncestorType=Page}}"/>
                </DataTemplate>
        </local:ProductDetailDataTemplate.Fhv7ShapeSearchTemplate>
        <local:ProductDetailDataTemplate.Fhv7BarcodeTemplate>
            <DataTemplate>
                    <local:FhBarcodeUserControl ListFhService="{Binding DataContext.BasicService.FhService, RelativeSource={RelativeSource AncestorType=Page}}"
                                                SelectedHardware="{Binding DataContext.BasicService.ProductDetailService.SelectedHardware,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=Page}}"
                                                ProductDetailList="{Binding DataContext.BasicService.ProductDetailService.ListProductDetails,UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=Page}}"
                                                UpdateUICommand="{Binding DataContext.BasicService.ProductDetailService.UpdateUICommand, RelativeSource={RelativeSource AncestorType=Page}}"/>
            </DataTemplate>
        </local:ProductDetailDataTemplate.Fhv7BarcodeTemplate>
        </local:ProductDetailDataTemplate>
    </Page.Resources>

    <Grid x:Name="gridMain">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="40*"/>
            <RowDefinition Height="40*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid x:Name="gridRow0" Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="2*"/>
            </Grid.ColumnDefinitions>
            <Grid Grid.Column="0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                
                <ui:TextBlock Grid.Row="1" Margin="20,0,0,0" VerticalAlignment="Center" Text="{Binding BasicService.ProductDetailService.ErrorTextSettings,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" FontSize="{DynamicResource LargeFontSize}" Visibility="{Binding BasicService.ProductDetailService.ErrorTextSettings,Converter={StaticResource ConverterStringToVisibilityEmptyStringCollapsed},UpdateSourceTrigger=PropertyChanged}" Foreground="{StaticResource ColorRed}"/>

                <WrapPanel Grid.Row="1">
                    <ItemsControl  ItemsSource="{Binding BasicService.HardwareService.Hardware.List}">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel Orientation="Horizontal"/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <ui:Button Content="{Binding Name}"
                                            Command="{Binding DataContext.ChangeHardwareCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}" 
                                            CommandParameter="{Binding}" 
                                            Margin="5">
                                    <ui:Button.Style>
                                        <Style TargetType="ui:Button" BasedOn="{StaticResource {x:Type ui:Button}}">
                                            <Style.Triggers>
                                                <DataTrigger Value="True">
                                                    <DataTrigger.Binding>
                                                        <MultiBinding Converter="{StaticResource MultiConverterEqualToTrue}">
                                                            <Binding Path="Name"/>
                                                            <Binding Path="DataContext.BasicService.ProductDetailService.SelectedHardware.Name" 
                                                                        RelativeSource="{RelativeSource AncestorType=ItemsControl}"/>
                                                        </MultiBinding>
                                                    </DataTrigger.Binding>
                                                    <Setter Property="Background" Value="{StaticResource ColorRed}"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </ui:Button.Style>
                                </ui:Button>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                    <ui:AutoSuggestBox Width="200" Margin="10,0,0,0" Text="{Binding BasicService.ProductDetailService.FilterText,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" TextChanged="TextBox_TextChanged" />
                </WrapPanel>

                <WrapPanel Grid.Row="2" Visibility="{Binding BasicService.ProductDetailService.HardwareFunctionsList,Converter={StaticResource ConverterObservableCollectionHardwareFunctionCountGreaterThenParameterVisble},ConverterParameter=1}">
                    <ui:Button Content="{Binding BasicService.ProductDetailService.SelectedHardwareFunction}" IsEnabled="False" Background="{StaticResource ColorRed}" Margin="5"/>
                    <ui:Button Content="Wijzig functie" Command="{Binding DataContext.ChangeHardwareFunctionCommand}" Margin="5"/>
                </WrapPanel>
            </Grid>

            <WrapPanel Grid.Column="1" HorizontalAlignment="Right" Margin=" 0,0,25,0" Visibility="{Binding BasicService.ProductDetailService.LoadOrSaveDefaultSettingsPossible,Converter={StaticResource ConverterBoolToVisibility1Visible0Collapsed},UpdateSourceTrigger=PropertyChanged}">
                <Button Command="{Binding BasicService.ProductDetailService.LoadFromDefaultSettingsCommand}" Margin="2,0,2,0">
                    <StackPanel Orientation="Horizontal">
                        <ui:SymbolIcon Symbol= "Open24" Filled="True" Height="24" Width="24" VerticalAlignment="Center" Margin="0,0,10,0"/>
                        <TextBlock Text="{DynamicResource LadenVanDefault}" VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>
                <Button Command="{Binding BasicService.ProductDetailService.SaveToDefaultSettingsCommand}" Margin="2,0,2,0">
                    <StackPanel Orientation="Horizontal">
                        <ui:SymbolIcon Symbol= "Save24" Filled="True" Height="24" Width="24" VerticalAlignment="Center" Margin="0,0,5,0"/>
                        <TextBlock Text="{DynamicResource OpslaanAlsDefault}" VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>
            </WrapPanel>
            <WrapPanel Grid.Column="1" HorizontalAlignment="Right" Margin=" 0,0,25,0" Visibility="{Binding BasicService.ProductDetailService.SaveSettingsPossible,Converter={StaticResource ConverterBoolToVisibility1Visible0Collapsed},UpdateSourceTrigger=PropertyChanged}">
                <Button Command="{Binding SaveChangedSettingsCommand}">
                    <StackPanel Orientation="Horizontal">
                        <ui:SymbolIcon Symbol= "Save24" Filled="True" Height="24" Width="24" VerticalAlignment="Center" Margin="0,0,10,0"/>
                        <TextBlock Text="{DynamicResource Opslaan}" VerticalAlignment="Center" Margin="10,0,0,0"/>
                    </StackPanel>
                </Button>
            </WrapPanel>

        </Grid>

        <Grid x:Name="gridUserControlAndSettings" Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <ContentControl x:Name="ContentControl" Grid.Column="0" Content="{Binding BasicService.ProductDetailService.SelectedHardwareFunction}" ContentTemplateSelector="{StaticResource ProductDetailDataTemplateSelector}"/>

            <StackPanel Grid.Column="1" CanHorizontallyScroll="False" Margin=" 0,0,15,0">
                <ListBox ItemsSource="{Binding BasicService.ProductDetailService.ListProductDetails, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" ItemTemplateSelector="{StaticResource ObjectTypeTemplateSelector}">
                    <ListBox.ItemContainerStyle>
                        <Style TargetType="ListBoxItem">
                            <Setter Property="HorizontalAlignment" Value="Stretch"/>
                            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                            <Setter Property="Width" Value="Auto"></Setter>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding ScreenVisible}" Value="True">
                                    <Setter Property="Visibility" Value="Visible"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding ScreenVisible}" Value="False">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </ListBox.ItemContainerStyle>
                </ListBox>
            </StackPanel>
        </Grid>
    </Grid>

</Page>
